{"ast":null,"code":"import _slicedToArray from\"/home/fmkrom/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import api from\"./Api.js\";import Card from\"./Card.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cards=_useState4[0],setCards=_useState4[1];useEffect(function(){handleUserRequest();handleCardsRequest();},[]);function handleUserRequest(){api.getUser().then(function(data){var userData=new Object();userData.id=data._id;userData.name=data.name;userData.about=data.about;userData.avatar=data.avatar;setUser(userData);}).catch(function(err){return console.log(err);});};function handleCardsRequest(){api.getCards().then(function(data){var cardsData=data.map(function(item){return{id:item._id,name:item.name,link:item.link,owner:item.owner,likes:item.likes};});setCards(cardsData);}).catch(function(err){return console.log(err);});}return/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"#\",className:\"profile__edit-avatar-link\",onClick:props.onEditAvatar,children:[/*#__PURE__*/_jsx(\"img\",{src:user.avatar,className:\"profile__image\",alt:\"\\u0424\\u043E\\u0442\\u043E \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-overlay\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__name-block\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:user.name}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-button\",type:\"button\",onClick:props.onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__job\",children:user.about})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-button\",type:\"button\",onClick:props.onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"cards\",children:cards.map(function(item){return/*#__PURE__*/_jsx(Card,{card:item.link,name:item.name,likes:item.likes,onCardClick:props.onOpenFullSizeImage});})})]});};export default Main;","map":{"version":3,"sources":["/home/fmkrom/dev/mesto-react/src/components/Main.js"],"names":["useEffect","useState","api","Card","Main","props","user","setUser","cards","setCards","handleUserRequest","handleCardsRequest","getUser","then","data","userData","Object","id","_id","name","about","avatar","catch","err","console","log","getCards","cardsData","map","item","link","owner","likes","onEditAvatar","onEditProfile","onAddPlace","onOpenFullSizeImage"],"mappings":"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","sourcesContent":["import {useEffect, useState} from 'react';\n\nimport api from \"./Api.js\";\n\nimport Card from \"./Card.js\";\n\nfunction Main(props){\n\n    const [user, setUser] = useState([]);\n    const [cards, setCards] = useState([]);\n\n    useEffect(()=>{\n      handleUserRequest();\n      handleCardsRequest();\n    }, []);\n    \n    function handleUserRequest(){\n      api.getUser()\n      .then(data => {\n              const userData = new Object();\n              userData.id = data._id;\n              userData.name = data.name;\n              userData.about = data.about;\n              userData.avatar = data.avatar;\n              setUser(userData)\n        }\n      ).catch(err => console.log(err));\n    };\n  \n\n    function handleCardsRequest(){\n      api.getCards()\n        .then(data =>{\n           const cardsData = data.map(item=>{\n              return{\n                id: item._id,\n                name: item.name,\n                link: item.link,\n                owner: item.owner,\n                likes: item.likes\n              }\n           })\n           setCards(cardsData);\n        }).catch(err => console.log(err));\n    }\n\n    return(\n      <main className=\"main\">\n            <section className=\"profile\">\n                <div className=\"profile__avatar\">\n                    <a href=\"#\" className=\"profile__edit-avatar-link\" onClick={props.onEditAvatar}>\n                      <img src={user.avatar} className=\"profile__image\" alt=\"Фото профиля\"/>\n                      <div className=\"profile__avatar-overlay\"></div>\n                    </a>\n                </div>\n                <div className=\"profile__info\">\n                    <div className=\"profile__name-block\">\n                      <h1 className=\"profile__name\">{user.name}</h1>\n                      <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\n                    </div>\n                    <p className=\"profile__job\">{user.about}</p>\n                </div>\n                <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n            </section>\n \n          <section className=\"cards\">\n          \n          {\n              cards.map(item=>\n                <Card\n                  card={item.link}\n                  name={item.name}\n                  likes={item.likes}\n                  onCardClick={props.onOpenFullSizeImage}\n                />)\n          }\n          </section>\n        </main>\n    )\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}